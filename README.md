# ğŸ¤– GitHub Trends Email Notifier
[![Weekly GitHub Trends Email](https://github.com/israahch/github-trends-notifier/actions/workflows/weekly_notifier.yml/badge.svg)](https://github.com/israahch/github-trends-notifier/actions)


Automatically fetch, analyze, and email the latest GitHub trending repositories â€” weekly or on-demand â€” with historical data stored in PostgreSQL.

---

## ğŸš€ Overview
**GitHub Trends Reporter** is a fully automated pipeline that:

- Fetches trending repositories from the GitHub API
- Stores historical trend data in a PostgreSQL database
- Analyzes top languages, organizations, and topics
- Generates structured JSON and HTML summaries
- Sends formatted email reports automatically
- Supports weekly scheduled runs via GitHub Actions or manual runs
- Accepts custom topics and repository count via CLI or config

---

 ## ğŸš€ Features
- ğŸ” Fetches top trending repositories with configurable topic and top_n
- ğŸ—„ï¸ Stores trend history in PostgreSQL for tracking changes over time
- ğŸ“Š Processes trends and generates analysis (current vs previous data)
- âœ‰ï¸ Sends weekly HTML email reports using secure credentials from GitHub Secrets
- â° Fully automated GitHub Actions workflow
- ğŸ› ï¸ Flexible CLI options for manual or dynamic runs

---

## âš™ï¸ How It Works
Database Initialization: Creates tables in PostgreSQL if they donâ€™t exist.

1. **Fetching:** Collects trending repositories using GitHubâ€™s REST API.
2. **Processing:** Analyzes repository statistics and compares with previous data from the database.
3. **Notifying:** Sends a clean HTML email report using SMTP.
4. **Automation:** Runs automatically weekly via GitHub Actions or manually using CLI arguments.
5. **Logging:** Logs stored in logs/ folder; uploaded as artifacts in GitHub Actions.

---

## ğŸ§° Tech Stack
- Python (requests, pandas, SQLAlchemy, smtplib)
- GitHub REST API
- PostgreSQL (history & trend storage)
- Email Automation (SMTP)
- GitHub Actions (CI/CD scheduling)

---

## ğŸ§  Project Architecture
Hereâ€™s an example of the automated weekly email summary generated by the pipeline:

<p align="center">
  <img src="assets/email_summary_1.png" alt="GitHub Trends Email Example 1" width="600">
</p>

<p align="center">
  <img src="assets/email_summary_2.png" alt="GitHub Trends Email Example 2" width="600">
</p>

> _These emails are automatically generated by the GitHub Actions workflow every week._

---

## ğŸ—‚ï¸ File Structure
```
â”œâ”€â”€ .git/ ğŸš« (auto-hidden)
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ github_trends.yml
â”œâ”€â”€ .vscode/ ğŸš« (auto-hidden)
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ email_summary_1.png
â”‚   â””â”€â”€ email_summary_2.png
â”œâ”€â”€ logs/ ğŸš« (auto-hidden)
â”œâ”€â”€ outputs/
â”‚   â”œâ”€â”€ analysis_machine_learning_2025_10_19.json
â”‚   â””â”€â”€ analysis_machine_learning_2025_10_20.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â””â”€â”€ repo_db.py
â”‚   â”œâ”€â”€ fetcher/
â”‚   â”‚   â”œâ”€â”€ fetching_pipline.py
â”‚   â”‚   â””â”€â”€ github_api.py
â”‚   â”œâ”€â”€ notifier/
â”‚   â”‚   â”œâ”€â”€ email_notifier.py
â”‚   â”‚   â”œâ”€â”€ find_file.py
â”‚   â”‚   â”œâ”€â”€ notifying_pipline.py
â”‚   â”‚   â””â”€â”€ templates.py
â”‚   â”œâ”€â”€ processor/
â”‚   â”‚   â”œâ”€â”€ analyze_trends.py
â”‚   â”‚   â”œâ”€â”€ processing_pipline.py
â”‚   â”‚   â””â”€â”€ storage.py
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ logger.py
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â”œâ”€â”€ config.py
â”œâ”€â”€ main.py
â””â”€â”€ requirements.txt
```

---

## â–¶ï¸ Usage
1. Clone the repo  
```bash
git clone https://github.com/yourname/github-trends-notifier.git
```
2. Install dependencies
```bash
pip install -r requirements.txt
```
3. Create a `.env` file with your email credentials:
```bash
# Use an app password, NOT your Gmail login password
EMAIL_USER=youremail@gmail.com
EMAIL_PASS=your_app_password
EMAIL_TO=recipient@example.com
```

4. Set up PostgreSQL 

- Install PostgreSQL locally or use a server.
- Create a database (example: `github_trends`):
```sql
CREATE DATABASE github_trends;
```
- Update DATABASE_URL in config.py:
```bash
# Local PostgreSQL without password
DATABASE_URL = "postgresql://macmini@localhost/github_trends"

# If you create a role with password
DATABASE_URL = "postgresql://username:password@localhost/github_trends"
```
### âš ï¸ Notes
- The script automatically handles table creation (`github_repos`) in PostgreSQL.
- Re-running the script does **not** recreate tables or delete existing data.
- Make sure PostgreSQL is running before executing `main.py`.


5. Run the main script to fetch trends, process data, and send email:

```bash
# Use defaults from config
python main.py

# Specify a topic and number of repos
python main.py --topic "artificial intelligence" --top_n 150
```

---

## ğŸ”® Future Improvements
- Add charts to the email summary (matplotlib)
- Support multiple GitHub topics
- Store trend history in a database
- Build a simple dashboard (Streamlit or Flask)

---

## ğŸ™Œ Credits
**Created by:** Israa Hch  
ğŸ“§ **Contact:** issrach235@gmail.com  
ğŸŒ **GitHub:** [github.com/israahch](https://github.com/israahch)

---

## â­ Contributing & Support

If you like this project, consider giving it a â­ on GitHub!
Contributions and improvements are always welcome ğŸ˜Š