# ğŸ¤– GitHub Trends Email Notifier
[![Weekly GitHub Trends Email](https://github.com/israahch/github-trends-notifier/actions/workflows/weekly_notifier.yml/badge.svg)](https://github.com/israahch/github-trends-notifier/actions)


Automatically fetch, analyze, and email the latest GitHub trending repositoriesâ€”daily or on-demandâ€”with historical data stored in a Dockerized PostgreSQL database.

---

## ğŸš€ Overview
**GitHub Trends Reporter** is a robust, containerized data pipeline that runs entirely within Docker Compose, simplifying setup and deployment. The pipeline:

- Fetches trending repositories from the GitHub API.
- Stores historical trend data in a dedicated PostgreSQL container.
- Analyzes top languages, organizations, and topics (comparing current vs. historical data).
- Generates structured JSON and sends formatted email reports automatically.
- Runs daily via GitHub Actions or manually via simple make commands.

---

 ## ğŸš€ Features
- ğŸ” Fetches top trending repositories with configurable topic and top_n
- ğŸ—„ï¸ Stores trend history in PostgreSQL for tracking changes over time
- ğŸ“Š Processes trends and generates analysis (current vs previous data)
- âœ‰ï¸ Sends weekly HTML email reports using secure credentials from GitHub Secrets
- â° Fully automated GitHub Actions workflow
- ğŸ› ï¸ Flexible CLI options for manual or dynamic runs

---

## âš™ï¸ Project Architecture & Workflow
The entire system is orchestrated by Docker Compose, ensuring that the application (app) and the database (db) run in a cohesive, isolated environment.
1. **Automation**: The pipeline is scheduled to run daily via GitHub Actions.
2. **Environment**: Secrets (tokens, emails) are passed securely into the running container via GitHub Secrets.
3. **Process**: The app container executes the main.py pipeline, connecting to the db container using the internal hostname db.
4. **Logging**: All container output is streamed to standard logs, accessible via docker compose logs.

Hereâ€™s an example of the automated weekly email summary generated by the pipeline:

<p align="center">
  <img src="assets/email_summary_1.png" alt="GitHub Trends Email Example 1" width="600">
</p>
<p align="center">
  <img src="assets/email_summary_2.png" alt="GitHub Trends Email Example 2" width="600">
</p>
> _These emails are automatically generated by the GitHub Actions workflow every week._

---

## ğŸ§° Tech Stack
- Runtime: Python (requests, pandas, SQLAlchemy, smtplib)
- Database: PostgreSQL (Containerized via Docker Compose)
- Orchestration: Docker & Docker Compose
- Automation: GitHub Actions (CI/CD scheduling)
- API: GitHub REST API

---

## â–¶ï¸ Getting Started (Local Development)
Prerequisites
You must have Docker and Docker Compose installed on your system.

###Â 1. Clone and Configure
- Clone the repository:
```bash
git clone https://github.com/israahch/github-trends-notifier.git
cd github-trends-notifier
```
- Create a local .env file in the root directory to securely provide credentials. These variables will be loaded by Docker Compose.
```bash
# .env
# --- Required Credentials ---
GITHUB_TOKEN=YOUR_PERSONAL_GITHUB_TOKEN
EMAIL_USER=your_sender_email@gmail.com
EMAIL_PASS=YOUR_EMAIL_APP_PASSWORD_HERE
EMAIL_TO=recipient@example.com
```
#### âš ï¸ Note: For EMAIL_PASS, you must use an App Password generated by your email provider (e.g., Google) for security and access reasons.

### 2. Run the Pipeline (using Makefile)
Use the provided Makefile to easily manage the entire Docker environment.
- To run the pipeline once:
```bash
make up
```
- To view the output:
```bash
make logs
```

---

## â˜ï¸ Automation with GitHub Actions
The pipeline is set to run automatically every day at 00:00 UTC using the provided GitHub Actions workflow.

To enable this automation in your repository, you only need to provide the necessary credentials as GitHub Secrets.
**Required Secrets Setup** :
- Go to your repository Settings $\rightarrow$ Secrets and variables $\rightarrow$ Actions.
- Add the following four secrets:
    - GITHUB_TOKEN 
    - EMAIL_USER 
    -	EMAIL_PASS 
    -  EMAIL_TO

---

## ğŸ—‚ï¸ File Structure
```
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ âš™ï¸ github_trends.yml  # GitHub Actions Daily Workflow
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ ğŸ–¼ï¸ email_summary_*.png
â”œâ”€â”€ data/
â”œâ”€â”€ outputs/ ğŸš« (ignored by Git)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ ğŸ models.py
â”‚   â”‚   â””â”€â”€ ğŸ repo_db.py         # Database connection logic
â”‚   â”œâ”€â”€ fetcher/
â”‚   â”œâ”€â”€ notifier/
â”‚   â”œâ”€â”€ processor/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ âš™ï¸ .gitignore
â”œâ”€â”€ ğŸ³ Dockerfile
â”œâ”€â”€ ğŸ“ README.md
â”œâ”€â”€ ğŸ config.py                  # Environment-loaded settings
â”œâ”€â”€ âš™ï¸ docker-compose.yml         # Defines app and db services
â”œâ”€â”€ ğŸ main.py                    # Pipeline entry point
â”œâ”€â”€ ğŸ“„ requirements.txt
â””â”€â”€ âš™ï¸ Makefile                   # Local automation commands (make up, make clean)
```

---

## ğŸ”® Future Improvements
- Implement proper unit and integration tests.
- Add advanced visualization (e.g., Matplotlib charts) to the email summary.
- Support multiple concurrent GitHub topics.

---

## ğŸ™Œ Credits
**Created by:** Israa Hch  
ğŸ“§ **Contact:** issrach235@gmail.com  
ğŸŒ **GitHub:** [github.com/israahch](https://github.com/israahch)

---

## â­ Contributing & Support

If you like this project, consider giving it a â­ on GitHub!
Contributions and improvements are always welcome ğŸ˜Š
